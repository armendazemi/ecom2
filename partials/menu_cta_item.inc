<button type="button" class="icon-button large"
        aria-label="{{ "Växla öppning av sök" | t }}"
        aria-haspopup="dialog"
        aria-expanded="false"
        aria-controls="search-modal"
        data-modal-element="#search-modal"
        data-modal-action="open"
        data-modal-overlay="false"
>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
    <path
      d="M21.3973 20.6023L16.5804 15.7854C17.954 14.2057 18.6606 12.1545 18.5513 10.064C18.442 7.9735 17.5253 6.00712 15.9944 4.57934C14.4635 3.15157 12.4381 2.37395 10.3451 2.41041C8.25208 2.44686 6.25497 3.29454 4.77475 4.77475C3.29454 6.25497 2.44686 8.25208 2.41041 10.3451C2.37395 12.4381 3.15157 14.4635 4.57934 15.9944C6.00712 17.5253 7.9735 18.442 10.064 18.5513C12.1545 18.6606 14.2057 17.954 15.7854 16.5804L20.6023 21.3973C20.7089 21.4966 20.8499 21.5507 20.9957 21.5481C21.1414 21.5456 21.2804 21.4865 21.3835 21.3835C21.4865 21.2804 21.5456 21.1414 21.5481 20.9957C21.5507 20.8499 21.4966 20.7089 21.3973 20.6023ZM3.56226 10.4998C3.56226 9.12765 3.96914 7.78636 4.73144 6.64549C5.49374 5.50463 6.57723 4.61543 7.84489 4.09035C9.11256 3.56526 10.5075 3.42788 11.8532 3.69556C13.1989 3.96325 14.4351 4.62398 15.4053 5.59421C16.3755 6.56443 17.0363 7.80058 17.304 9.14632C17.5716 10.4921 17.4343 11.887 16.9092 13.1546C16.3841 14.4223 15.4949 15.5058 14.354 16.2681C13.2132 17.0304 11.8719 17.4373 10.4998 17.4373C8.66051 17.435 6.89722 16.7034 5.59667 15.4028C4.29612 14.1023 3.56449 12.339 3.56226 10.4998Z"
      fill="#030712"/>
  </svg>
</button>

{% if customer.logged_in? %}
  <a href="{{ customer.profile_url }}" class="icon-button large"
     aria-label="{{ "Din profil" | t }}">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
      <path
        d="M21.4867 19.9687C20.0045 17.4075 17.6776 15.6103 14.9739 14.8481C16.2884 14.1799 17.3396 13.0885 17.9579 11.7498C18.5762 10.411 18.7256 8.90311 18.382 7.4691C18.0385 6.03508 17.222 4.75856 16.0642 3.84537C14.9064 2.93218 13.4747 2.43555 12.0001 2.43555C10.5255 2.43555 9.09392 2.93218 7.93611 3.84537C6.7783 4.75856 5.96179 6.03508 5.61824 7.4691C5.27468 8.90311 5.4241 10.411 6.04241 11.7498C6.66072 13.0885 7.71188 14.1799 9.02639 14.8481C6.32264 15.6094 3.99577 17.4065 2.51358 19.9687C2.47288 20.0328 2.44555 20.1043 2.43324 20.1792C2.42093 20.2541 2.42388 20.3306 2.44193 20.4043C2.45998 20.478 2.49275 20.5473 2.53826 20.608C2.58378 20.6687 2.6411 20.7195 2.70678 20.7575C2.77246 20.7955 2.84514 20.8197 2.92045 20.8289C2.99576 20.838 3.07215 20.8319 3.14501 20.8107C3.21786 20.7896 3.2857 20.7539 3.34442 20.7059C3.40314 20.6579 3.45154 20.5985 3.4867 20.5312C5.28764 17.4197 8.46952 15.5625 12.0001 15.5625C15.5308 15.5625 18.7126 17.4197 20.5136 20.5312C20.5487 20.5985 20.5971 20.6579 20.6559 20.7059C20.7146 20.7539 20.7824 20.7896 20.8553 20.8107C20.9281 20.8319 21.0045 20.838 21.0798 20.8289C21.1551 20.8197 21.2278 20.7955 21.2935 20.7575C21.3592 20.7195 21.4165 20.6687 21.462 20.608C21.5075 20.5473 21.5403 20.478 21.5583 20.4043C21.5764 20.3306 21.5794 20.2541 21.567 20.1792C21.5547 20.1043 21.5274 20.0328 21.4867 19.9687ZM6.56264 8.99998C6.56264 7.92455 6.88155 6.87326 7.47903 5.97907C8.07651 5.08488 8.92573 4.38794 9.9193 3.97639C10.9129 3.56484 12.0062 3.45716 13.0609 3.66696C14.1157 3.87677 15.0846 4.39464 15.845 5.15509C16.6055 5.91554 17.1234 6.88441 17.3332 7.93918C17.543 8.99395 17.4353 10.0873 17.0237 11.0808C16.6122 12.0744 15.9152 12.9236 15.0211 13.5211C14.1269 14.1186 13.0756 14.4375 12.0001 14.4375C10.5586 14.4357 9.17652 13.8623 8.15717 12.843C7.13781 11.8236 6.56438 10.4416 6.56264 8.99998Z"
        fill="#030712"/>
    </svg>
  </a>
{% else %}
  <a href="{{ customer.login_url }}" class="icon-button large"
     aria-label="{{ "Logga in" | t }}">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
      <path
        d="M21.4867 19.9687C20.0045 17.4075 17.6776 15.6103 14.9739 14.8481C16.2884 14.1799 17.3396 13.0885 17.9579 11.7498C18.5762 10.411 18.7256 8.90311 18.382 7.4691C18.0385 6.03508 17.222 4.75856 16.0642 3.84537C14.9064 2.93218 13.4747 2.43555 12.0001 2.43555C10.5255 2.43555 9.09392 2.93218 7.93611 3.84537C6.7783 4.75856 5.96179 6.03508 5.61824 7.4691C5.27468 8.90311 5.4241 10.411 6.04241 11.7498C6.66072 13.0885 7.71188 14.1799 9.02639 14.8481C6.32264 15.6094 3.99577 17.4065 2.51358 19.9687C2.47288 20.0328 2.44555 20.1043 2.43324 20.1792C2.42093 20.2541 2.42388 20.3306 2.44193 20.4043C2.45998 20.478 2.49275 20.5473 2.53826 20.608C2.58378 20.6687 2.6411 20.7195 2.70678 20.7575C2.77246 20.7955 2.84514 20.8197 2.92045 20.8289C2.99576 20.838 3.07215 20.8319 3.14501 20.8107C3.21786 20.7896 3.2857 20.7539 3.34442 20.7059C3.40314 20.6579 3.45154 20.5985 3.4867 20.5312C5.28764 17.4197 8.46952 15.5625 12.0001 15.5625C15.5308 15.5625 18.7126 17.4197 20.5136 20.5312C20.5487 20.5985 20.5971 20.6579 20.6559 20.7059C20.7146 20.7539 20.7824 20.7896 20.8553 20.8107C20.9281 20.8319 21.0045 20.838 21.0798 20.8289C21.1551 20.8197 21.2278 20.7955 21.2935 20.7575C21.3592 20.7195 21.4165 20.6687 21.462 20.608C21.5075 20.5473 21.5403 20.478 21.5583 20.4043C21.5764 20.3306 21.5794 20.2541 21.567 20.1792C21.5547 20.1043 21.5274 20.0328 21.4867 19.9687ZM6.56264 8.99998C6.56264 7.92455 6.88155 6.87326 7.47903 5.97907C8.07651 5.08488 8.92573 4.38794 9.9193 3.97639C10.9129 3.56484 12.0062 3.45716 13.0609 3.66696C14.1157 3.87677 15.0846 4.39464 15.845 5.15509C16.6055 5.91554 17.1234 6.88441 17.3332 7.93918C17.543 8.99395 17.4353 10.0873 17.0237 11.0808C16.6122 12.0744 15.9152 12.9236 15.0211 13.5211C14.1269 14.1186 13.0756 14.4375 12.0001 14.4375C10.5586 14.4357 9.17652 13.8623 8.15717 12.843C7.13781 11.8236 6.56438 10.4416 6.56264 8.99998Z"
        fill="#030712"/>
    </svg>
  </a>
{% endif %}

<cart-button>
  <button id="open-cart-button" type="button"
          class="icon-button large d-flex align-items-center column-gap-25"
          aria-expanded="false" aria-label="{{ "Öppna varukorg" | t }}"
          aria-haspopup="true"
          aria-controls="side-cart"
          data-modal-action="open"
          data-modal-element="#side-cart">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
      <path
        d="M21.4322 5.64C21.3794 5.57663 21.3133 5.52563 21.2386 5.49064C21.1639 5.45565 21.0825 5.4375 21 5.4375H5.71875L5.12156 2.14969C5.09807 2.02008 5.02984 1.90282 4.92876 1.81836C4.82768 1.73389 4.70016 1.68758 4.56844 1.6875H2.25C2.10082 1.6875 1.95774 1.74676 1.85225 1.85225C1.74676 1.95774 1.6875 2.10082 1.6875 2.25C1.6875 2.39918 1.74676 2.54226 1.85225 2.64775C1.95774 2.75324 2.10082 2.8125 2.25 2.8125H4.09875L6.51844 16.1194C6.5943 16.5389 6.79873 16.9246 7.10344 17.2228C6.73521 17.5169 6.46015 17.9115 6.31155 18.3587C6.16295 18.806 6.14719 19.2867 6.26617 19.7427C6.38516 20.1987 6.63378 20.6105 6.98195 20.9281C7.33011 21.2457 7.76289 21.4556 8.22788 21.5323C8.69286 21.609 9.17012 21.5493 9.60187 21.3604C10.0336 21.1714 10.4013 20.8614 10.6605 20.4678C10.9197 20.0742 11.0592 19.6139 11.0622 19.1426C11.0651 18.6714 10.9314 18.2093 10.6772 17.8125H15.5728C15.2813 18.2687 15.15 18.8089 15.1995 19.348C15.249 19.8871 15.4766 20.3943 15.8463 20.7897C16.216 21.1852 16.7069 21.4463 17.2414 21.5318C17.776 21.6174 18.3238 21.5226 18.7985 21.2624C19.2732 21.0022 19.6478 20.5913 19.8631 20.0947C20.0785 19.598 20.1223 19.0437 19.9878 18.5194C19.8533 17.995 19.5481 17.5303 19.1203 17.1986C18.6924 16.8669 18.1663 16.6871 17.625 16.6875H8.54719C8.32763 16.6875 8.11503 16.6105 7.94644 16.4698C7.77786 16.3292 7.66399 16.1338 7.62469 15.9178L7.28719 14.0625H18.3844C18.8674 14.0626 19.3352 13.8932 19.7061 13.5838C20.077 13.2744 20.3276 12.8446 20.4141 12.3694L21.5531 6.10031C21.5678 6.01941 21.5646 5.93627 21.5437 5.85674C21.5228 5.7772 21.4848 5.70322 21.4322 5.64ZM9.9375 19.125C9.9375 19.3846 9.86052 19.6383 9.7163 19.8542C9.57208 20.07 9.3671 20.2383 9.12727 20.3376C8.88744 20.4369 8.62354 20.4629 8.36894 20.4123C8.11434 20.3616 7.88048 20.2366 7.69692 20.0531C7.51337 19.8695 7.38836 19.6357 7.33772 19.3811C7.28708 19.1265 7.31307 18.8626 7.41241 18.6227C7.51175 18.3829 7.67997 18.1779 7.89581 18.0337C8.11165 17.8895 8.36541 17.8125 8.625 17.8125C8.9731 17.8125 9.30694 17.9508 9.55308 18.1969C9.79922 18.4431 9.9375 18.7769 9.9375 19.125ZM18.9375 19.125C18.9375 19.3846 18.8605 19.6383 18.7163 19.8542C18.5721 20.07 18.3671 20.2383 18.1273 20.3376C17.8874 20.4369 17.6235 20.4629 17.3689 20.4123C17.1143 20.3616 16.8805 20.2366 16.6969 20.0531C16.5134 19.8695 16.3884 19.6357 16.3377 19.3811C16.2871 19.1265 16.3131 18.8626 16.4124 18.6227C16.5117 18.3829 16.68 18.1779 16.8958 18.0337C17.1117 17.8895 17.3654 17.8125 17.625 17.8125C17.9731 17.8125 18.3069 17.9508 18.5531 18.1969C18.7992 18.4431 18.9375 18.7769 18.9375 19.125ZM19.3069 12.1678C19.2676 12.3838 19.1537 12.5792 18.9851 12.7198C18.8165 12.8605 18.6039 12.9375 18.3844 12.9375H7.08281L5.92406 6.5625H20.3259L19.3069 12.1678Z"
        fill="#030712"/>
    </svg>
    <span
      class="side-cart-button__count">{{ cart.item_count | fallback: 0 }}</span>
  </button>
</cart-button>